- name: Tax unit illustrating problem highlighted in GitHub issue 903
  absolute_error_margin: 0.01
  period: 2019
  input:
    people:
      person1:
        is_tax_unit_head: 1
        age: 60
        self_employment_income: 200_000
        business_is_qualified: true
    tax_units:
      tax_unit:
        members: [person1]
        premium_tax_credit: 0  # not in TAXSIM35
    households:
      household:
        members: [person1]
        state_code: TX
  output:  # expected results from TAXSIM35
    adjusted_gross_income: 189_082.05
    qualified_business_income: 189_082.05

- name: Tax unit with taxsimid 95033 in e21.its.csv and e21.ots.csv
  absolute_error_margin: 0.01
  period: 2021
  input:
    people:
      person1:
        is_tax_unit_head: 1
        age: 67
        self_employment_income: 136_010
        business_is_qualified: true
        business_is_sstb: false
        w2_wages_from_qualified_business: 100e6
        ssi: 0  # not in TAXSIM35
        state_supplement: 0  # not in TAXSIM35
        wic: 0  # not in TAXSIM35
    spm_units:
      spm_unit:
        members: [person1]
        snap: 0  # not in TAXSIM35
        tanf: 0  # not in TAXSIM35
    tax_units:
      tax_unit:
        members: [person1]
        premium_tax_credit: 0  # not in TAXSIM35
    households:
      household:
        members: [person1]
        state_code: TX  # no state income tax
  output:  # expected results from TAXSIM35 12/02/22 version
    taxsim_tfica: 19_217.60
    income_tax: 15_554.03

- name: Tax unit with taxsimid 9498 in d21.its.csv and d21.ots.csv
  absolute_error_margin: 0.01
  period: 2021
  input:
    people:
      person1:
        is_tax_unit_head: 1
        age: 65
        self_employment_income: 150_010
        business_is_qualified: true
        business_is_sstb: false
        w2_wages_from_qualified_business: 100e6
        ssi: 0  # not in TAXSIM35
        state_supplement: 0  # not in TAXSIM35
        wic: 0  # not in TAXSIM35
      person2:
        is_tax_unit_spouse: 1
        age: 65
        self_employment_income: 75_010
        business_is_qualified: true
        business_is_sstb: false
        w2_wages_from_qualified_business: 100e6
        ssi: 0  # not in TAXSIM35
        state_supplement: 0  # not in TAXSIM35
        wic: 0  # not in TAXSIM35
    spm_units:
      spm_unit:
        members: [person1, person2]
        snap: 0  # not in TAXSIM35
        tanf: 0  # not in TAXSIM35
    tax_units:
      tax_unit:
        members: [person1, person2]
        premium_tax_credit: 0  # not in TAXSIM35
    households:
      household:
        members: [person1, person2]
        state_code: TX  # no state income tax
  output:  # expected results from TAXSIM35 12/02/22 version
    taxsim_tfica: 31_794.31
    income_tax: 23_409.82
